!function(){function t(t){t.mcs.top<-600?"0"===$("#return-top").css("opacity")&&$("#return-top").velocity("stop").velocity({opacity:1},{duration:500,display:"block"}):$("#return-top").velocity("stop").velocity({opacity:0},{duration:500,display:"none"})}function o(t){var o=Math.round(-t.mcs.top/(t.mcs.content[0].offsetHeight-t.offsetHeight)*100);$(".sidebar-toc-progress .progress-num").text(o),$(".sidebar-toc-progress-bar").velocity("stop").velocity({width:o+"%"},{duration:100,easing:"easeInOutQuart"})}function i(t){var o="";const i=$("#menu-outer").height()+1;var c=$("#post").find("h1,h2,h3,h4,h5,h6");if(c.each(function(){$(this).offset().top<=i&&(o=$(this).attr("id"))}),$(".sidebar-toc-content .toc-link").removeClass("active"),""!==o){var n=$('.sidebar-toc-content .toc-link[href="#'+o+'"]');n.addClass("active");var s=n.parents(".toc-child");if(s.length>0){var l=null;l=s.length>1?s.eq(s.length-1).find(".toc-child"):s,l.length>0&&l.is(":hidden")&&e(l),s.eq(s.length-1).closest(".toc-item").siblings(".toc-item").find(".toc-child").hide()}else n.closest(".toc-item").find(".toc-child").is(":hidden")&&e(n.closest(".toc-item").find(".toc-child")),n.closest(".toc-item").siblings(".toc-item").find(".toc-child").hide()}}function e(t){t.velocity("stop").velocity("fadeIn",{duration:500,easing:"easeInQuart"})}$("#return-top").on("click",function(){$("#content-outer").mCustomScrollbar("scrollTo","top",{scrollInertia:1e3,scrollEasing:"easeInOut"})}),$("#content-outer").mCustomScrollbar({theme:"minimal",axis:"y",callbacks:{whileScrolling:function(){t(this),o(this),i(this)},onScroll:function(){}}}),$("#sidebar-toc-content").mCustomScrollbar({theme:"minimal",axis:"y",callbacks:{}}),$(".sidebar-toc-content .toc-link").on("click",function(t){t.preventDefault();var o=$(this).attr("href");$("#content-outer").mCustomScrollbar("scrollTo",o,{scrollInertia:500})})}();