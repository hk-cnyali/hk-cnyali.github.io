<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Tags | hk_cnyali's Blog</title><meta name="description" content="A Blog Powered By Hexo"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.jpg"><link rel="stylesheet" href="https:////cdn.staticfile.org/KaTeX/0.7.1/katex.min.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="search" type="application/opensearchdescription+xml" href="/atom.xml" title="hk_cnyali's Blog"><link rel="stylesheet" href="/css/style.css"><link rel="search" type="application/opensearchdescription+xml" href="http://hk-cnyali.com/atom.xml" title="hk_cnyali's Blog"></head><body><div class="wrapper" id="wrap"><header class="header"><h1 class="title">hk_cnyali's Blog</h1><section><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self">Home</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives/" target="_self">Archives</a></li><li class="nav-list-item"><a class="nav-list-link" href="/About-Me/" target="_self">About</a></li><li class="nav-list-item"><a class="nav-list-link active" href="/Tags/" target="_self">Tags</a></li><li class="nav-list-item"><a class="nav-list-link" href="/Debug/" target="_self">Debug</a></li><li class="nav-list-item"><a class="nav-list-link" href="/Friendly-Links/" target="_self">Friendly-Links</a></li><li class="nav-list-item"><a href="javascript:;" class="popup-trigger"> Search </a></li><div class="site-search">
<div class="popup search-popup local-search-popup" id="search-popup">
<div class="local-search-header clearfix">
<span class="search-icon">
<i class="fa fa-search"></i>
</span>
<span class="popup-btn-close">
<i class="fa fa-times-circle"></i>
</span>
<div class="local-search-input-wrapper">
<input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
</div>
</div>
<div id="local-search-result"></div>
</div>
</div></ul></section></header><main class="container"><article id="page"><div class="post-title"> <h1>Tags - <span class="tag-cloud-amount">230</span></h1></div><div class="tag-cloud"><div class="tag-cloud-tags"><a href="/tags/01Trie/" style="font-size: 14.12px; color: #9c9a9a">01Trie</a> <a href="/tags/2-SAT/" style="font-size: 13.06px; color: #a6a3a3">2-SAT</a> <a href="/tags/ACM-ICPC/" style="font-size: 13.06px; color: #a6a3a3">ACM-ICPC</a> <a href="/tags/AC自动机/" style="font-size: 13.59px; color: #a19e9e">AC自动机</a> <a href="/tags/Atcoder/" style="font-size: 18.88px; color: #737171">Atcoder</a> <a href="/tags/BSGS/" style="font-size: 12px; color: #afacac">BSGS</a> <a href="/tags/Burnside引理/" style="font-size: 12px; color: #afacac">Burnside引理</a> <a href="/tags/CDQ分治/" style="font-size: 14.65px; color: #989595">CDQ分治</a> <a href="/tags/CRT/" style="font-size: 12.53px; color: #aaa7a7">CRT</a> <a href="/tags/Codeforces/" style="font-size: 27.35px; color: #282828">Codeforces</a> <a href="/tags/DP优化/" style="font-size: 12.53px; color: #aaa7a7">DP优化</a> <a href="/tags/Dilworth定理/" style="font-size: 12px; color: #afacac">Dilworth定理</a> <a href="/tags/FFT/" style="font-size: 15.18px; color: #939191">FFT</a> <a href="/tags/FWT/" style="font-size: 15.18px; color: #939191">FWT</a> <a href="/tags/Hall定理/" style="font-size: 14.12px; color: #9c9a9a">Hall定理</a> <a href="/tags/Hash/" style="font-size: 16.24px; color: #8a8888">Hash</a> <a href="/tags/IDA/" style="font-size: 12px; color: #afacac">IDA*</a> <a href="/tags/KMP/" style="font-size: 14.65px; color: #989595">KMP</a> <a href="/tags/LCA/" style="font-size: 14.65px; color: #989595">LCA</a> <a href="/tags/LCT/" style="font-size: 17.29px; color: #817e7e">LCT</a> <a href="/tags/Lucas/" style="font-size: 12px; color: #afacac">Lucas</a> <a href="/tags/Lucas定理/" style="font-size: 12px; color: #afacac">Lucas定理</a> <a href="/tags/Manacher/" style="font-size: 13.59px; color: #a19e9e">Manacher</a> <a href="/tags/Matrix-Tree/" style="font-size: 13.59px; color: #a19e9e">Matrix-Tree</a> <a href="/tags/Miller-Rabin/" style="font-size: 12.53px; color: #aaa7a7">Miller-Rabin</a> <a href="/tags/Min-Max容斥/" style="font-size: 12.53px; color: #aaa7a7">Min-Max容斥</a> <a href="/tags/NOIp/" style="font-size: 17.82px; color: #7c7a7a">NOIp</a> <a href="/tags/NTT/" style="font-size: 18.35px; color: #777575">NTT</a> <a href="/tags/OI历程/" style="font-size: 15.18px; color: #939191">OI历程</a> <a href="/tags/Pollard-Rho/" style="font-size: 12.53px; color: #aaa7a7">Pollard Rho</a> <a href="/tags/Polya定理/" style="font-size: 12px; color: #afacac">Polya定理</a> <a href="/tags/RMQ/" style="font-size: 12.53px; color: #aaa7a7">RMQ</a> <a href="/tags/SG函数/" style="font-size: 12px; color: #afacac">SG函数</a> <a href="/tags/ST表/" style="font-size: 15.18px; color: #939191">ST表</a> <a href="/tags/Something/" style="font-size: 12px; color: #afacac">Something</a> <a href="/tags/Splay/" style="font-size: 18.35px; color: #777575">Splay</a> <a href="/tags/Summary/" style="font-size: 28.94px; color: #1a1a1a">Summary</a> <a href="/tags/Trie/" style="font-size: 15.71px; color: #8e8c8c">Trie</a> <a href="/tags/agc/" style="font-size: 17.82px; color: #7c7a7a">agc</a> <a href="/tags/bfs/" style="font-size: 12px; color: #afacac">bfs</a> <a href="/tags/bitset/" style="font-size: 12.53px; color: #aaa7a7">bitset</a> <a href="/tags/dp-of-dp/" style="font-size: 12px; color: #afacac">dp of dp</a> <a href="/tags/dsu-on-tree/" style="font-size: 12.53px; color: #aaa7a7">dsu on tree</a> <a href="/tags/ex-BSGS/" style="font-size: 12px; color: #afacac">ex_BSGS</a> <a href="/tags/ex-Lucas/" style="font-size: 12.53px; color: #aaa7a7">ex_Lucas</a> <a href="/tags/ex-gcd/" style="font-size: 15.18px; color: #939191">ex_gcd</a> <a href="/tags/gcd/" style="font-size: 13.59px; color: #a19e9e">gcd</a> <a href="/tags/hexo/" style="font-size: 12px; color: #afacac">hexo</a> <a href="/tags/hide/" style="font-size: 26.82px; color: #2d2c2c">hide</a> <a href="/tags/k-d-tree/" style="font-size: 14.12px; color: #9c9a9a">k-d tree</a> <a href="/tags/kruskal重构树/" style="font-size: 13.59px; color: #a19e9e">kruskal重构树</a> <a href="/tags/map/" style="font-size: 12px; color: #afacac">map</a> <a href="/tags/meet-in-middle/" style="font-size: 13.06px; color: #a6a3a3">meet in middle</a> <a href="/tags/pb-ds/" style="font-size: 12px; color: #afacac">pb_ds</a> <a href="/tags/prufer序列/" style="font-size: 13.06px; color: #a6a3a3">prufer序列</a> <a href="/tags/set/" style="font-size: 17.29px; color: #817e7e">set</a> <a href="/tags/tarjan/" style="font-size: 18.35px; color: #777575">tarjan</a> <a href="/tags/trie/" style="font-size: 12px; color: #afacac">trie</a> <a href="/tags/two-pointers/" style="font-size: 15.71px; color: #8e8c8c">two pointers</a> <a href="/tags/usaco/" style="font-size: 13.06px; color: #a6a3a3">usaco</a> <a href="/tags/三分/" style="font-size: 13.59px; color: #a19e9e">三分</a> <a href="/tags/主席树/" style="font-size: 16.76px; color: #858383">主席树</a> <a href="/tags/乱搞/" style="font-size: 14.65px; color: #989595">乱搞</a> <a href="/tags/二分/" style="font-size: 18.88px; color: #737171">二分</a> <a href="/tags/二分图/" style="font-size: 13.59px; color: #a19e9e">二分图</a> <a href="/tags/二分图匹配/" style="font-size: 17.29px; color: #817e7e">二分图匹配</a> <a href="/tags/二分答案/" style="font-size: 17.82px; color: #7c7a7a">二分答案</a> <a href="/tags/二维数点/" style="font-size: 12px; color: #afacac">二维数点</a> <a href="/tags/二进制分组/" style="font-size: 12px; color: #afacac">二进制分组</a> <a href="/tags/二进制拆分/" style="font-size: 12px; color: #afacac">二进制拆分</a> <a href="/tags/二项式反演/" style="font-size: 12px; color: #afacac">二项式反演</a> <a href="/tags/二项式定理/" style="font-size: 12.53px; color: #aaa7a7">二项式定理</a> <a href="/tags/交互/" style="font-size: 15.71px; color: #8e8c8c">交互</a> <a href="/tags/仙人掌/" style="font-size: 12px; color: #afacac">仙人掌</a> <a href="/tags/优先队列/" style="font-size: 12px; color: #afacac">优先队列</a> <a href="/tags/倍增/" style="font-size: 19.41px; color: #6e6c6c">倍增</a> <a href="/tags/凸优化/" style="font-size: 12.53px; color: #aaa7a7">凸优化</a> <a href="/tags/凸包/" style="font-size: 13.06px; color: #a6a3a3">凸包</a> <a href="/tags/凸壳/" style="font-size: 12px; color: #afacac">凸壳</a> <a href="/tags/分块/" style="font-size: 19.41px; color: #6e6c6c">分块</a> <a href="/tags/分治/" style="font-size: 17.82px; color: #7c7a7a">分治</a> <a href="/tags/分类讨论/" style="font-size: 13.06px; color: #a6a3a3">分类讨论</a> <a href="/tags/前缀和/" style="font-size: 17.82px; color: #7c7a7a">前缀和</a> <a href="/tags/割点/" style="font-size: 12.53px; color: #aaa7a7">割点</a> <a href="/tags/动态DP/" style="font-size: 12px; color: #afacac">动态DP</a> <a href="/tags/动态规划/" style="font-size: 29.47px; color: #161616">动态规划</a> <a href="/tags/势能分析/" style="font-size: 12px; color: #afacac">势能分析</a> <a href="/tags/匈牙利算法/" style="font-size: 13.06px; color: #a6a3a3">匈牙利算法</a> <a href="/tags/区间DP/" style="font-size: 12px; color: #afacac">区间DP</a> <a href="/tags/区间dp/" style="font-size: 12px; color: #afacac">区间dp</a> <a href="/tags/单调栈/" style="font-size: 17.29px; color: #817e7e">单调栈</a> <a href="/tags/单调队列/" style="font-size: 12px; color: #afacac">单调队列</a> <a href="/tags/博弈/" style="font-size: 13.59px; color: #a19e9e">博弈</a> <a href="/tags/卡特兰数/" style="font-size: 12px; color: #afacac">卡特兰数</a> <a href="/tags/卷积/" style="font-size: 13.06px; color: #a6a3a3">卷积</a> <a href="/tags/叉积/" style="font-size: 12px; color: #afacac">叉积</a> <a href="/tags/反悔型贪心/" style="font-size: 12px; color: #afacac">反悔型贪心</a> <a href="/tags/反演/" style="font-size: 12.53px; color: #aaa7a7">反演</a> <a href="/tags/可删除堆/" style="font-size: 12.53px; color: #aaa7a7">可删除堆</a> <a href="/tags/可持久化/" style="font-size: 15.71px; color: #8e8c8c">可持久化</a> <a href="/tags/可撤销并查集/" style="font-size: 12px; color: #afacac">可撤销并查集</a> <a href="/tags/后缀树/" style="font-size: 12px; color: #afacac">后缀树</a> <a href="/tags/后缀自动机/" style="font-size: 21.53px; color: #5b5a5a">后缀自动机</a> <a href="/tags/启发式分治/" style="font-size: 12px; color: #afacac">启发式分治</a> <a href="/tags/启发式分裂/" style="font-size: 12px; color: #afacac">启发式分裂</a> <a href="/tags/启发式合并/" style="font-size: 17.29px; color: #817e7e">启发式合并</a> <a href="/tags/回文自动机/" style="font-size: 13.06px; color: #a6a3a3">回文自动机</a> <a href="/tags/图论/" style="font-size: 13.06px; color: #a6a3a3">图论</a> <a href="/tags/圆方树/" style="font-size: 12px; color: #afacac">圆方树</a> <a href="/tags/基环树/" style="font-size: 12.53px; color: #aaa7a7">基环树</a> <a href="/tags/堆/" style="font-size: 18.88px; color: #737171">堆</a> <a href="/tags/多项式/" style="font-size: 17.82px; color: #7c7a7a">多项式</a> <a href="/tags/子集卷积/" style="font-size: 13.59px; color: #a19e9e">子集卷积</a> <a href="/tags/子集和DP/" style="font-size: 12.53px; color: #aaa7a7">子集和DP</a> <a href="/tags/字符串/" style="font-size: 24.71px; color: #3f3f3f">字符串</a> <a href="/tags/容斥/" style="font-size: 23.12px; color: #4d4c4c">容斥</a> <a href="/tags/对偶图/" style="font-size: 13.06px; color: #a6a3a3">对偶图</a> <a href="/tags/巧妙/" style="font-size: 12px; color: #afacac">巧妙</a> <a href="/tags/差分/" style="font-size: 17.29px; color: #817e7e">差分</a> <a href="/tags/带权二分/" style="font-size: 12px; color: #afacac">带权二分</a> <a href="/tags/带权并查集/" style="font-size: 12px; color: #afacac">带权并查集</a> <a href="/tags/平衡树/" style="font-size: 16.24px; color: #8a8888">平衡树</a> <a href="/tags/平面图/" style="font-size: 12px; color: #afacac">平面图</a> <a href="/tags/并查集/" style="font-size: 22.59px; color: #525151">并查集</a> <a href="/tags/广义后缀自动机/" style="font-size: 12.53px; color: #aaa7a7">广义后缀自动机</a> <a href="/tags/建图/" style="font-size: 13.06px; color: #a6a3a3">建图</a> <a href="/tags/强连通分量/" style="font-size: 13.06px; color: #a6a3a3">强连通分量</a> <a href="/tags/快速幂/" style="font-size: 12.53px; color: #aaa7a7">快速幂</a> <a href="/tags/思维/" style="font-size: 13.59px; color: #a19e9e">思维</a> <a href="/tags/打表/" style="font-size: 12.53px; color: #aaa7a7">打表</a> <a href="/tags/扫描线/" style="font-size: 17.82px; color: #7c7a7a">扫描线</a> <a href="/tags/找规律/" style="font-size: 12.53px; color: #aaa7a7">找规律</a> <a href="/tags/拆点/" style="font-size: 12px; color: #afacac">拆点</a> <a href="/tags/拉格朗日插值/" style="font-size: 12px; color: #afacac">拉格朗日插值</a> <a href="/tags/拓扑排序/" style="font-size: 14.65px; color: #989595">拓扑排序</a> <a href="/tags/括号序列/" style="font-size: 12px; color: #afacac">括号序列</a> <a href="/tags/换根DP/" style="font-size: 13.59px; color: #a19e9e">换根DP</a> <a href="/tags/推式子/" style="font-size: 12px; color: #afacac">推式子</a> <a href="/tags/插值/" style="font-size: 12px; color: #afacac">插值</a> <a href="/tags/搜索/" style="font-size: 15.71px; color: #8e8c8c">搜索</a> <a href="/tags/支配树/" style="font-size: 12.53px; color: #aaa7a7">支配树</a> <a href="/tags/数位dp/" style="font-size: 12px; color: #afacac">数位dp</a> <a href="/tags/数学/" style="font-size: 25.76px; color: #363535">数学</a> <a href="/tags/数据结构/" style="font-size: 30px; color: #111">数据结构</a> <a href="/tags/数论/" style="font-size: 21px; color: #605f5f">数论</a> <a href="/tags/整体二分/" style="font-size: 13.59px; color: #a19e9e">整体二分</a> <a href="/tags/整除分块/" style="font-size: 14.65px; color: #989595">整除分块</a> <a href="/tags/斜率优化/" style="font-size: 13.06px; color: #a6a3a3">斜率优化</a> <a href="/tags/斯坦纳树/" style="font-size: 13.06px; color: #a6a3a3">斯坦纳树</a> <a href="/tags/斯特林数/" style="font-size: 14.65px; color: #989595">斯特林数</a> <a href="/tags/方差/" style="font-size: 12.53px; color: #aaa7a7">方差</a> <a href="/tags/时光倒流/" style="font-size: 12px; color: #afacac">时光倒流</a> <a href="/tags/暴力/" style="font-size: 19.94px; color: #696868">暴力</a> <a href="/tags/暴力重构/" style="font-size: 12px; color: #afacac">暴力重构</a> <a href="/tags/曼哈顿与切比雪夫距离/" style="font-size: 13.06px; color: #a6a3a3">曼哈顿与切比雪夫距离</a> <a href="/tags/最大流/" style="font-size: 14.65px; color: #989595">最大流</a> <a href="/tags/最小乘积生成树/" style="font-size: 13.06px; color: #a6a3a3">最小乘积生成树</a> <a href="/tags/最小割/" style="font-size: 12.53px; color: #aaa7a7">最小割</a> <a href="/tags/最小树形图/" style="font-size: 12.53px; color: #aaa7a7">最小树形图</a> <a href="/tags/最小瓶颈路/" style="font-size: 12.53px; color: #aaa7a7">最小瓶颈路</a> <a href="/tags/最小生成树/" style="font-size: 17.29px; color: #817e7e">最小生成树</a> <a href="/tags/最短路/" style="font-size: 20.47px; color: #656363">最短路</a> <a href="/tags/朱刘算法/" style="font-size: 12px; color: #afacac">朱刘算法</a> <a href="/tags/权值线段树/" style="font-size: 12.53px; color: #aaa7a7">权值线段树</a> <a href="/tags/李超线段树/" style="font-size: 13.06px; color: #a6a3a3">李超线段树</a> <a href="/tags/杜教筛/" style="font-size: 14.12px; color: #9c9a9a">杜教筛</a> <a href="/tags/极角排序/" style="font-size: 12px; color: #afacac">极角排序</a> <a href="/tags/构造/" style="font-size: 22.06px; color: #575555">构造</a> <a href="/tags/枚举/" style="font-size: 12px; color: #afacac">枚举</a> <a href="/tags/栈/" style="font-size: 13.59px; color: #a19e9e">栈</a> <a href="/tags/树/" style="font-size: 18.35px; color: #777575">树</a> <a href="/tags/树上差分/" style="font-size: 12.53px; color: #aaa7a7">树上差分</a> <a href="/tags/树上高消/" style="font-size: 12px; color: #afacac">树上高消</a> <a href="/tags/树套树/" style="font-size: 13.59px; color: #a19e9e">树套树</a> <a href="/tags/树形DP/" style="font-size: 13.59px; color: #a19e9e">树形DP</a> <a href="/tags/树状数组/" style="font-size: 23.65px; color: #494848">树状数组</a> <a href="/tags/树链剖分/" style="font-size: 18.35px; color: #777575">树链剖分</a> <a href="/tags/根号平衡/" style="font-size: 13.06px; color: #a6a3a3">根号平衡</a> <a href="/tags/桥/" style="font-size: 12.53px; color: #aaa7a7">桥</a> <a href="/tags/概率和期望/" style="font-size: 26.29px; color: #323131">概率和期望</a> <a href="/tags/模拟/" style="font-size: 14.65px; color: #989595">模拟</a> <a href="/tags/模拟退火/" style="font-size: 13.06px; color: #a6a3a3">模拟退火</a> <a href="/tags/欧拉函数/" style="font-size: 15.71px; color: #8e8c8c">欧拉函数</a> <a href="/tags/欧拉回路/" style="font-size: 13.59px; color: #a19e9e">欧拉回路</a> <a href="/tags/毒瘤/" style="font-size: 15.18px; color: #939191">毒瘤</a> <a href="/tags/点分治/" style="font-size: 16.24px; color: #8a8888">点分治</a> <a href="/tags/点双/" style="font-size: 14.12px; color: #9c9a9a">点双</a> <a href="/tags/特征方程/" style="font-size: 12.53px; color: #aaa7a7">特征方程</a> <a href="/tags/状态压缩/" style="font-size: 24.18px; color: #444343">状态压缩</a> <a href="/tags/生成函数/" style="font-size: 15.71px; color: #8e8c8c">生成函数</a> <a href="/tags/直径/" style="font-size: 12px; color: #afacac">直径</a> <a href="/tags/省选/" style="font-size: 27.88px; color: #242323">省选</a> <a href="/tags/矩阵/" style="font-size: 15.18px; color: #939191">矩阵</a> <a href="/tags/矩阵快速幂/" style="font-size: 17.82px; color: #7c7a7a">矩阵快速幂</a> <a href="/tags/神仙题/" style="font-size: 13.06px; color: #a6a3a3">神仙题</a> <a href="/tags/积分/" style="font-size: 12px; color: #afacac">积分</a> <a href="/tags/笔记/" style="font-size: 13.59px; color: #a19e9e">笔记</a> <a href="/tags/线性基/" style="font-size: 17.29px; color: #817e7e">线性基</a> <a href="/tags/线性筛/" style="font-size: 14.12px; color: #9c9a9a">线性筛</a> <a href="/tags/线性规划/" style="font-size: 12px; color: #afacac">线性规划</a> <a href="/tags/线段树/" style="font-size: 28.41px; color: #1f1f1f">线段树</a> <a href="/tags/线段树优化建边/" style="font-size: 12px; color: #afacac">线段树优化建边</a> <a href="/tags/线段树分治/" style="font-size: 14.12px; color: #9c9a9a">线段树分治</a> <a href="/tags/线段树合并/" style="font-size: 18.35px; color: #777575">线段树合并</a> <a href="/tags/组合数学/" style="font-size: 18.35px; color: #777575">组合数学</a> <a href="/tags/缩点/" style="font-size: 15.71px; color: #8e8c8c">缩点</a> <a href="/tags/网络流/" style="font-size: 17.82px; color: #7c7a7a">网络流</a> <a href="/tags/背包/" style="font-size: 13.59px; color: #a19e9e">背包</a> <a href="/tags/范德蒙德卷积/" style="font-size: 12.53px; color: #aaa7a7">范德蒙德卷积</a> <a href="/tags/莫比乌斯反演/" style="font-size: 15.71px; color: #8e8c8c">莫比乌斯反演</a> <a href="/tags/莫队/" style="font-size: 14.65px; color: #989595">莫队</a> <a href="/tags/虚树/" style="font-size: 14.12px; color: #9c9a9a">虚树</a> <a href="/tags/补图bfs/" style="font-size: 12px; color: #afacac">补图bfs</a> <a href="/tags/补集转化/" style="font-size: 12px; color: #afacac">补集转化</a> <a href="/tags/计数/" style="font-size: 23.12px; color: #4d4c4c">计数</a> <a href="/tags/计算几何/" style="font-size: 17.29px; color: #817e7e">计算几何</a> <a href="/tags/记忆化搜索/" style="font-size: 13.06px; color: #a6a3a3">记忆化搜索</a> <a href="/tags/贪心/" style="font-size: 25.24px; color: #3b3a3a">贪心</a> <a href="/tags/费用流/" style="font-size: 12px; color: #afacac">费用流</a> <a href="/tags/费马小定理/" style="font-size: 13.06px; color: #a6a3a3">费马小定理</a> <a href="/tags/赌徒破产问题/" style="font-size: 13.06px; color: #a6a3a3">赌徒破产问题</a> <a href="/tags/边双/" style="font-size: 14.12px; color: #9c9a9a">边双</a> <a href="/tags/退背包/" style="font-size: 12px; color: #afacac">退背包</a> <a href="/tags/递推/" style="font-size: 12.53px; color: #aaa7a7">递推</a> <a href="/tags/长链剖分/" style="font-size: 13.59px; color: #a19e9e">长链剖分</a> <a href="/tags/随机/" style="font-size: 13.06px; color: #a6a3a3">随机</a> <a href="/tags/集训/" style="font-size: 12px; color: #afacac">集训</a> <a href="/tags/高斯消元/" style="font-size: 15.18px; color: #939191">高斯消元</a> <a href="/tags/高精度/" style="font-size: 12px; color: #afacac">高精度</a> <a href="/tags/高维前缀和/" style="font-size: 12px; color: #afacac">高维前缀和</a></div></div></article></main><footer><div class="paginator"></div><div class="copyright"><p>© 2017 - 2020 靡不有初，鲜克有终</p><p>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>, theme by <a href="https://github.com/hk-cnyali" target="_blank">hk_cnyali</a>.</p></div><script type="text/javascript" src="https://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script><script>// Popup Window;
var isfetched = false;
var isXml = true;
// Search DB path;
var search_path = "search.json";
if (search_path.length === 0) {
  search_path = "search.xml";
} else if (/json$/i.test(search_path)) {
  isXml = false;
}
var path = "/" + search_path;
// monitor main search box;
// console.log(path);

var onPopupClose = function (e) {
  // console.log("onPopupClose");
  $('.popup').hide();
  $('#local-search-input').val('');
  $('.search-result-list').remove();
  $('#no-result').remove();
  $(".local-search-pop-overlay").remove();
  $('body').css('overflow', '');
}

function proceedsearch() {
  // console.log("proceed_search");
  $("body")
    .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
    .css('overflow', 'hidden');
  $('.search-popup-overlay').click(onPopupClose);
  $('.popup').toggle();
  var $localSearchInput = $('#local-search-input');
  $localSearchInput.attr("autocapitalize", "none");
  $localSearchInput.attr("autocorrect", "off");
  $localSearchInput.focus();
}

// search function;
var searchFunc = function(path, search_id, content_id) {
  // console.log("searchFunc");
  'use strict';

  // start loading animation
  $("body")
    .append('<div class="search-popup-overlay local-search-pop-overlay">' +
      '<div id="search-loading-icon">' +
      '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
      '</div>' +
      '</div>')
    .css('overflow', 'hidden');
  $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');
  // console.log("start_loading_animation");

  // console.log(path);
  // console.log(isXml);
  // console.log(document.getElementById(search_id));

  $.ajax({
    url: path,
    dataType: isXml ? "xml" : "json",
    async: true,
    error: function(res) {
      // console.log("error!");
    }, 
    success: function(res) {
      // console.log("success!");
      // get the contents from search data
      isfetched = true;
      $('.popup').detach().appendTo('.header');
      var datas = isXml ? $("entry", res).map(function() {
        return {
          title: $("title", this).text(),
          content: $("content",this).text(),
          url: $("url" , this).text()
        };
      }).get() : res;
      var input = document.getElementById(search_id);
      // console.log("input = " + input);
      var resultContent = document.getElementById(content_id);
      // console.log("resultContent = " + resultContent);
      var inputEventFunction = function() {
        var searchText = input.value.trim().toLowerCase();
        var keywords = searchText.split(/[\s\-]+/);
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        var resultItems = [];
        if (searchText.length > 0) {
          // perform local searching
          datas.forEach(function(data) {
            var isMatch = false;
            var hitCount = 0;
            var searchTextCount = 0;
            var title = data.title.trim();
            var titleInLowerCase = title.toLowerCase();
            var content = data.content.trim().replace(/<[^>]+>/g,"");
            var contentInLowerCase = content.toLowerCase();
            var articleUrl = decodeURIComponent(data.url);
            var indexOfTitle = [];
            var indexOfContent = [];
            // only match articles with not empty titles
            if(title != '') {
              keywords.forEach(function(keyword) {
                function getIndexByWord(word, text, caseSensitive) {
                  var wordLen = word.length;
                  if (wordLen === 0) {
                    return [];
                  }
                  var startPosition = 0, position = [], index = [];
                  if (!caseSensitive) {
                    text = text.toLowerCase();
                    word = word.toLowerCase();
                  }
                  while ((position = text.indexOf(word, startPosition)) > -1) {
                    index.push({position: position, word: word});
                    startPosition = position + wordLen;
                  }
                  return index;
                }

                indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
              });
              if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                isMatch = true;
                hitCount = indexOfTitle.length + indexOfContent.length;
              }
            }

            // show search results

            if (isMatch) {
              // sort index by position of keyword

              [indexOfTitle, indexOfContent].forEach(function (index) {
                index.sort(function (itemLeft, itemRight) {
                  if (itemRight.position !== itemLeft.position) {
                    return itemRight.position - itemLeft.position;
                  } else {
                    return itemLeft.word.length - itemRight.word.length;
                  }
                });
              });

              // merge hits into slices

              function mergeIntoSlice(text, start, end, index) {
                var item = index[index.length - 1];
                var position = item.position;
                var word = item.word;
                var hits = [];
                var searchTextCountInSlice = 0;
                while (position + word.length <= end && index.length != 0) {
                  if (word === searchText) {
                    searchTextCountInSlice++;
                  }
                  hits.push({position: position, length: word.length});
                  var wordEnd = position + word.length;

                  // move to next position of hit

                  index.pop();
                  while (index.length != 0) {
                    item = index[index.length - 1];
                    position = item.position;
                    word = item.word;
                    if (wordEnd > position) {
                      index.pop();
                    } else {
                      break;
                    }
                  }
                }
                searchTextCount += searchTextCountInSlice;
                return {
                  hits: hits,
                  start: start,
                  end: end,
                  searchTextCount: searchTextCountInSlice
                };
              }

              var slicesOfTitle = [];
              if (indexOfTitle.length != 0) {
                slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
              }

              var slicesOfContent = [];
              while (indexOfContent.length != 0) {
                var item = indexOfContent[indexOfContent.length - 1];
                var position = item.position;
                var word = item.word;
                // cut out 100 characters
                var start = position - 20;
                var end = position + 80;
                if(start < 0){
                  start = 0;
                }
                if (end < position + word.length) {
                  end = position + word.length;
                }
                if(end > content.length){
                  end = content.length;
                }
                slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
              }

              // sort slices in content by search text's count and hits' count

              slicesOfContent.sort(function (sliceLeft, sliceRight) {
                if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                  return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                  return sliceRight.hits.length - sliceLeft.hits.length;
                } else {
                  return sliceLeft.start - sliceRight.start;
                }
              });

              // select top N slices in content

              var upperBound = parseInt("1");
              if (upperBound >= 0) {
                slicesOfContent = slicesOfContent.slice(0, upperBound);
              }
              // console.log(upperBound);

              // highlight title and content

              function highlightKeyword(text, slice) {
                var result = '';
                var prevEnd = slice.start;
                slice.hits.forEach(function (hit) {
                  result += text.substring(prevEnd, hit.position);
                  var end = hit.position + hit.length;
                  result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                  prevEnd = end;
                });
                result += text.substring(prevEnd, slice.end);
                return result;
              }

              var resultItem = '';

              if (slicesOfTitle.length != 0) {
                resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
              } else {
                resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
              }

              slicesOfContent.forEach(function (slice) {
                resultItem += "<a>" +
                  "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                  "...</p>" + "</a>";
              });

              resultItem += "</li>";
              resultItems.push({
                item: resultItem,
                searchTextCount: searchTextCount,
                hitCount: hitCount,
                id: resultItems.length
              });
            }
          })
        };
        if (keywords.length === 1 && keywords[0] === "") {
          resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
        } else if (resultItems.length === 0) {
          resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
        } else {
          resultItems.sort(function (resultLeft, resultRight) {
            if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
              return resultRight.searchTextCount - resultLeft.searchTextCount;
            } else if (resultLeft.hitCount !== resultRight.hitCount) {
              return resultRight.hitCount - resultLeft.hitCount;
            } else {
              return resultRight.id - resultLeft.id;
            }
          });
          var searchResultList = '<ul class=\"search-result-list\">';
          resultItems.forEach(function (result) {
            searchResultList += result.item;
          })
          searchResultList += "</ul>";
          resultContent.innerHTML = searchResultList;
        }
      }

      if ('auto' === "auto") {
        input.addEventListener('input', inputEventFunction);
      } else {
        $('.search-icon').click(inputEventFunction);
        input.addEventListener('keypress', function (event) {
          if (event.keyCode === 13) {
            inputEventFunction();
          }
        });
      }

      // remove loading animation
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');

      proceedsearch();
    }
  });
}

// handle and trigger popup window;
$('.popup-trigger').click(function(e) {
  e.stopPropagation();
  if (isfetched === false) {
    searchFunc(path, 'local-search-input', 'local-search-result');
  } else {
    proceedsearch();
  };
});

$('.popup-btn-close').click(onPopupClose);
$('.popup').click(function(e){
  // console.log("popup.click");
  e.stopPropagation();
});
$(document).on('keyup', function (event) {
  // console.log("keyup");
  var shouldDismissSearchPopup = event.which === 27 && $('.search-popup').is(':visible');
  if (shouldDismissSearchPopup) {
    onPopupClose();
  }
});</script></footer></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}
</script></body></html>